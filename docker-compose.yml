version: '3.1'

services:
    ovpn:
        build: .
        image: ovpnserver
        volumes:
            - ./server/server.conf:/etc/openvpn/server/server.conf
            - ./ssl/:/etc/openvpn/ssl/
        command: sudo /sbin/openvpn --config /etc/openvpn/server/server.conf
        ports: 
            - 1194:1194/udp
        devices: 
            - /dev/net/tun:/dev/net/tun
        cap_add: 
            - NET_ADMIN
